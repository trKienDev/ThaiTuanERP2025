<!-- following-expense-payments.component.html (refactor) -->
<div class="payments-container">
      <div class="page-heading">
            <div class="page-title">
                  <h3 class="icon">üíµ</h3>
                  <h3 class="title">Thanh to√°n c·ªßa b·∫°n</h3>
            </div>
            <div class="actions">
                  <kit-refresh-button [disabled]="loadingSig()" label="L√†m m·ªõi" color="#ff342b" (clicked)="manualRefresh()"></kit-refresh-button>
            </div>
      </div>

      <div class="page-body">
            <div class="table-wrapper">
                  <table class="table margin-top-20px">
                        <thead>
                              <tr>
                              <th>T√™n thanh to√°n</th>
                              <th>Tr·∫°ng th√°i</th>
                              <th>Ng∆∞·ªùi duy·ªát</th>
                              <th>Th√†nh ti·ªÅn</th>
                              <th>T·ªïng thu·∫ø</th>
                              <th>T·ªïng ti·ªÅn</th>
                              <th>S·ªë ti·ªÅn ƒë√£ t·∫°o l·ªánh</th>
                              <th>Ng∆∞·ªùi t·∫°o</th>
                              <th>T·∫°o l√∫c</th>
                              </tr>
                        </thead>
                        <tbody>
                              <tr *ngFor="let payment of paymentsSig(); trackBy: trackById">
                                    <td>
                                          <span class="payment-name" (click)="openExpensePaymentDetailDialog(payment.id)">
                                                {{ payment.name }}
                                          </span>
                                    </td>
                                    <td>
                                          <span class="payment-status-badge" [ngClass]="(payment.status | expensePaymentStatus).class">
                                                {{ (payment.status | expensePaymentStatus).text }}
                                          </span>
                                    </td>
                                    <td>
                                          <ng-container *ngFor="let step of payment.workflowInstanceStatus.steps">
                                                <img *ngIf="step.approvedByUser" class="avatar-user approver-avatar" [src]="step.approvedByUser | avatarUrlPipe" alt="approved by">
                                                <img *ngIf="step.rejectedByUser" class="avatar-user rejecter-avatar" [src]="step.rejectedByUser | avatarUrlPipe" alt="rejected by">
                                                <img *ngIf="!step.approvedByUser && !step.rejectedByUser && step.status === 'Waiting'" class="avatar-user waiting-avatar" [src]="step.defaultApproverUser | avatarUrlPipe" alt="{{ step.status }}">
                                          </ng-container>
                                    </td>
                                    <td>{{ payment.totalAmount   | number: '1.0-0' }}</td>
                                    <td>{{ payment.totalTax      | number: '1.0-0' }}</td>
                                    <td>{{ payment.totalWithTax  | number: '1.0-0' }}</td>
                                    <td>{{ payment.outgoingAmountPaid | number: '1.0-0' }}</td>
                                    <td>
                                          <img class="avatar-user" [src]="payment.createdByUser | avatarUrlPipe" alt="created by">
                                    </td>
                                    <td>{{ payment.createdDate | date: 'dd/MM/yyyy' }}</td>
                              </tr>
                        </tbody>
                  </table>
            <!-- Sentinel ƒë·ªÉ b·∫Øt ƒë√°y -->
            <div #infiniteAnchor class="infinite-anchor"></div>
            <!-- Loading / End states -->
            <div class="list-state" *ngIf="loadingSig()">
                  <kit-loading-spinner></kit-loading-spinner>
            </div>
            <div class="list-state dim" *ngIf="!loadingSig() && endReachedSig()">ƒê√£ t·∫£i h·∫øt</div>
            </div>
      </div>
</div>      
