<div class="page-heading">
      <div class="page-title">
            <h3 class="icon">üë®üèª‚Äçüíª</h3>
            <h3 class="title" >Qu·∫£n l√Ω th√†nh vi√™n</h3>
      </div>
      <div *appHasPermission="'user.create'">
            <button type="button" class="button default-button" (click)="openUserRequestDialog()">Th√™m ng∆∞·ªùi d√πng m·ªõi</button>
      </div>
</div>

<div class="page-body">
      <table class="table margin-top-20px">
            <thead>
                  <tr>
                        <th>#</th>
                        <th>H·ªç v√† t√™n</th>
                        <th>M√£ nh√¢n vi√™n</th>
                        <th>Ph√≤ng ban</th>
                        <th>Vai tr√≤</th>
                        <th>Qu·∫£n l√Ω</th>
                        <th *appHasPermission="'user.actions'">H√†nh ƒë·ªông</th>
                  </tr>
            </thead>
            <tbody>
                  <tr *ngFor="let user of (users$ | async) ?? []; trackBy: trackById; let i = index;">
                        <td>{{ i + 1 }}</td>
                        <td>
                              <div class="display-flex justify-content-center align-items-center gap-5px">
                                    <img class="avatar-user" [src]="user | avatarUrlPipe" alt="avatar-user">
                                    <span>{{ user.fullName }}</span> 
                              </div>
                        </td>
                        <td>{{ user.employeeCode }}</td>
                        <td>{{ user.departmentName }}</td>
                        <td>
                              <ul *ngFor="let role of user.roleNames">
                                    <li>{{ role }}</li>
                              </ul>
                        </td>
                        <td>
                              <ul *ngFor="let manager of user.managers">
                                    <li><img class="avatar-user" [src]="manager | avatarUrlPipe" alt="avatar-user"></li>
                              </ul>
                        </td>
                        <td *appHasPermission="'user.actions'">
                              <div  class="display-flex justify-content-center">
                                    <kit-action-menu [actions]="buildUserActions(user)"></kit-action-menu>
                              </div>
                        </td>
                  </tr>
            </tbody>
      </table>
</div>