<div class="shell">
      <aside class="sidebar" [style.width.px]="sidebarWidth ?? null">
            <nav class="tab-list" role="tablist" aria-orientation="vertical">
                  <button type="button" class="tab-item" role="tab" 
                  *ngFor="let t of tabs" [class.active]="t.id === selectedId" 
                  (click)="selectTab(t.id)" [attr.aria-selected]="t.id === selectedId">
                        <span class="material-symbols-outlined" *ngIf="t.icon">{{ t.icon }}</span>
                        <span>{{ t.label }}</span>
                  </button>
            </nav>
      </aside>

      <main class="content" role="tabpanel" [@loadDomAnimations]="selectedId">
            <!-- Ưu tiên render child-route (form tạo mới) -->
            <router-outlet></router-outlet>

            <!-- Khi không có child-route đang active thì mới render nội dung tab -->
            <ng-container *ngIf="!route.firstChild || route.firstChild.snapshot.url.length === 0">
                  <ng-container *ngFor="let t of tabs">
                        <ng-container *ngIf="t.id === selectedId">
                              <ng-container *ngComponentOutlet="t.component"></ng-container>
                        </ng-container>
                  </ng-container>
            </ng-container>

            <div class="white-space"></div>
      </main>
</div>
