<aside class="drawer" [class.drawer--open]="open">
  <div class="drawer__header">
    <div class="drawer__title">
      {{ mode === 'create' ? 'Thêm tài khoản con' : 'Sửa tài khoản' }}
    </div>
    <button class="drawer__close" (click)="cancel()">✕</button>
  </div>

  <form class="drawer__body" (ngSubmit)="submit()">
    <div class="form-field">
      <label>Số hiệu tài khoản</label>
      <input type="text" [formControl]="fc.code" />
      <div class="invalid" *ngIf="fc.code.touched && fc.code.hasError('required')">Bắt buộc</div>
      <div class="invalid" *ngIf="fc.code.hasError('maxlength')">Tối đa 64 ký tự</div>
    </div>

    <div class="form-field">
      <label>Tên tài khoản</label>
      <input type="text" [formControl]="fc.name" />
      <div class="invalid" *ngIf="fc.name.touched && fc.name.hasError('required')">Bắt buộc</div>
      <div class="invalid" *ngIf="fc.name.hasError('maxlength')">Tối đa 250 ký tự</div>
    </div>
    <div class="form-field">
  <label>Tính chất tài khoản</label>
  <select [formControl]="fc.balanceType">
    <option value="Debit">Dư nợ</option>
    <option value="Credit">Dư có</option>
    <option value="Both">Lưỡng tính</option>
    <option value="None">Không có số dư</option>
  </select>
</div>

    <div class="form-field">
      <label>Description</label>
      <textarea rows="3" [formControl]="fc.description"></textarea>
      <div class="invalid" *ngIf="fc.description?.hasError('maxlength')">Tối đa 500 ký tự</div>
    </div>

    <div class="form-field" *ngIf="mode === 'edit'">
      <label>
        <input type="checkbox" [formControl]="fc.isActive" /> Đang hiệu lực
      </label>
    </div>

    <div class="drawer__footer">
      <button type="submit" class="btn btn--primary" [disabled]="loading">
        {{ mode === 'create' ? 'Tạo mới' : 'Lưu thay đổi' }}
      </button>
      <button type="button" class="btn" (click)="cancel()" [disabled]="loading">Huỷ</button>
    </div>
  </form>
</aside>
<div class="drawer-overlay" *ngIf="open" (click)="cancel()"></div>
