<div class="expense-budget-code-dialog-container" style="width: fit-content;">

      <div class="dialog-heading d-flex justify-content-between">
            <div class="align-content-center">
                  <span class="font-weight-bold">Ngân sách có thể chọn</span>
            </div>
            <div class="dialog-close">
                  <button type="button" class="close-button" (click)="close()" aria-label="Đóng">
                        <span class="text material-icons-outlined">close</span>
                  </button>
            </div>
      </div>

      <div class="dialog-body">
            <table class="table table-center-text mar-top-20">
                  <thead>
                        <tr>
                              <th>Nhóm ngân sách</th>
                              <th>Mã ngân sách</th>
                              <th>Tên ngân sách</th>
                              <th>Kỳ</th>
                              <th>Số tiền khả dụng</th>
                              <th></th>
                        </tr>
                  </thead>
                  <tbody>
                        <tr *ngFor="let bc of budgetCodes; trackBy: trackById" [class.selected]="bc.id === selectedBudgetCodeId">
                              <td>{{ bc.budgetGroupName }}</td>
                              <td>{{ bc.code }}</td>
                              <td>{{ bc.name }}</td>
                              <td>{{ bc.month }}/{{ bc.year }}</td>
                              <td>{{ bc.amount == null ? '—' : (bc.amount | number:'1.0-2') }}</td>
                              <td>
                                    <button type="button" class="button default-button" 
                                    (click)="selectBudgetCode(bc)"
                                    (keydown.enter)="selectBudgetCode(bc)"
                                    (keydown.space)="selectBudgetCode(bc); $event.preventDefault()"
                                    tabindex="0" role="button" 
                                    [attr.aria-label]="'Chọn mã ' + bc.code"
                                    [class.selected]="bc.id === selectedBudgetCodeId">
                                          {{ bc.id === selectedBudgetCodeId ? 'đã chọn' : 'chọn' }}
                                    </button>
                              </td>
                        </tr>
                        <tr *ngIf="!loading && budgetCodes.length === 0">
                              <td colspan="6" class="text-center">Không có hóa đơn nào</td>
                        </tr>
                        <tr *ngIf="loading">
                              <td colspan="6" class="text-center">Đang tải...</td>
                        </tr>
                  </tbody>
            </table>
      </div>
</div>